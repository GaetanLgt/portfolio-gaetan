<template>
  <div class="conseil-agents">
    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <h1 class="hero__title">Le Conseil des Agents</h1>
        <h2 class="hero__subtitle">R√©soudre des probl√®mes complexes avec 4 perspectives</h2>
        <p class="hero__description">
          Quand tu g√®res √† la fois du code, des serveurs, et 150 humains,<br>
          les d√©cisions simples n'existent pas.
        </p>
      </div>
    </section>

    <!-- Les 4 Agents -->
    <section class="agents">
      <div class="container">
        <h2 class="section-title">Les 4 Agents</h2>
        
        <div class="agents__grid">
          <Card
            v-for="agent in agents"
            :key="agent.id"
            :title="agent.name"
            hoverable
            :active="activeAgent === agent.id"
            @click="activeAgent = agent.id"
          >
            <template #icon>
              <div class="agent__emoji">{{ agent.emoji }}</div>
            </template>
            
            <div class="agent__role">{{ agent.role }}</div>
            <div class="agent__devise">"{{ agent.devise }}"</div>
            
            <div v-if="activeAgent === agent.id" class="agent__details">
              <h4>Forces :</h4>
              <ul>
                <li v-for="(force, i) in agent.forces" :key="i">{{ force }}</li>
              </ul>
              
              <h4>Exemple r√©el :</h4>
              <p>{{ agent.exemple }}</p>
            </div>
          </Card>
        </div>
      </div>
    </section>

    <!-- Le Conseil en action -->
    <section class="conseil-action">
      <div class="container">
        <h2 class="section-title">Le Conseil en action</h2>
        <h3 class="subsection-title">Event ARMAGEDDON (janvier 2026)</h3>
        
        <div class="armageddon">
          <div class="armageddon__context">
            <h4>Contexte :</h4>
            <p>Migration majeure ARKADIA FRANCE - 41 mods, 150 joueurs, cluster multi-serveurs</p>
            <p><strong>Deadline : 18 janvier 2026</strong></p>
          </div>

          <div class="armageddon__changes">
            <h4>Changements techniques :</h4>
            <div class="changes-grid">
              <div class="change-card">
                <h5>‚ùå Mods qui partent (9)</h5>
                <ul>
                  <li>TG Stacking Mod ‚Üí Natif Game.ini</li>
                  <li>Visual Storage ‚Üí Incompatible cluster</li>
                  <li>Potions ‚Üí Redondance</li>
                  <li>+ 6 autres optimisations</li>
                </ul>
              </div>
              <div class="change-card">
                <h5>‚úÖ Mods qui arrivent (2)</h5>
                <ul>
                  <li>Imbue Station ‚Üí Crafting avanc√©</li>
                  <li>Cliffans Backpacks ‚Üí QoL inventaire</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="armageddon__status">
            <h4>Status actuel (J-19) :</h4>
            <MetricCard value="79" suffix="%" label="Overall Readiness" icon="üîÑ" />
          </div>
        </div>
      </div>
    </section>

    <!-- Transition -->
    <section class="transition">
      <div class="container">
        <div class="transition__content">
          <p>Le Conseil des Agents c'est pas de la th√©orie.</p>
          <p>C'est ma m√©thode pour naviguer la complexit√©.</p>
          <p class="transition__conclusion">
            Technique, humaine, cr√©ative, mesurable.
          </p>
          <router-link to="/stack-ia" class="transition__cta">
            ‚Üí Voir comment j'applique √ßa √† l'IA locale
          </router-link>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup>
import { ref } from 'vue';
import Card from '@/components/common/Card.vue';
import MetricCard from '@/components/common/MetricCard.vue';

const activeAgent = ref(null);

const agents = ref([
  {
    id: 'neo',
    name: 'N√âO ARKADIAN',
    emoji: 'üèõÔ∏è',
    role: 'Architecte & √âquilibreur',
    devise: 'Observer avant d\'agir',
    forces: [
      'Vision d\'ensemble syst√®me + humain',
      'Transparence totale',
      '√âquilibre long terme vs gains imm√©diats'
    ],
    exemple: 'Refonte √©conomie ARKADIA : cr√©ation sinks ludiques (chibis, monuments) sans nerfer les rates. Satisfaction √©conomie : 42% ‚Üí 71%'
  },
  {
    id: 'root',
    name: 'ROOT',
    emoji: '‚öôÔ∏è',
    role: 'Syst√®me & Optimisation',
    devise: 'Performance > √âl√©gance',
    forces: [
      'Optimisation infrastructure',
      'S√©curit√© et fail-safes',
      'Debugging critique'
    ],
    exemple: 'Ordre chargement 41 mods optimis√©. Uptime serveur : 85% ‚Üí 98.7%. Crashes : 12/mois ‚Üí 1/mois'
  },
  {
    id: 'patch',
    name: 'PATCH (L√©o Verdan)',
    emoji: 'üé®',
    role: 'Innovation & Chaos Contr√¥l√©',
    devise: 'Les bugs sont des features non document√©es',
    forces: [
      'Solutions non conventionnelles',
      'Transformation contrainte ‚Üí gameplay',
      'Pens√©e lat√©rale'
    ],
    exemple: 'Inflation serveur transform√©e en events √©conomiques. Participation : 68%. Engagement Discord : +127%'
  },
  {
    id: 'nayla',
    name: 'NAYLA',
    emoji: 'üìä',
    role: 'Analyste & KPIs',
    devise: 'Ce qui ne se mesure pas n\'existe pas',
    forces: [
      'M√©triques et tracking',
      'A/B testing',
      'D√©cisions data-driven'
    ],
    exemple: 'Test 3 formats events : Format hybride gagne avec 68% participation vs 35-52% autres formats'
  }
]);
</script>

<style scoped>
.conseil-agents {
  min-height: 100vh;
  padding-top: 80px;
}

.hero {
  min-height: 60vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: var(--space-xl) 0;
}

.hero__title {
  margin-bottom: var(--space-sm);
}

.hero__subtitle {
  font-size: 1.5rem;
  color: var(--ark-blue);
  margin-bottom: var(--space-md);
}

.hero__description {
  font-size: 1.125rem;
  color: var(--text-secondary);
}

.agents {
  padding: var(--space-xl) 0;
}

.section-title {
  text-align: center;
  margin-bottom: var(--space-xl);
  color: var(--matrix-green);
}

.agents__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-md);
}

.agent__emoji {
  font-size: 3rem;
}

.agent__role {
  font-weight: 600;
  color: var(--ark-blue);
  margin-bottom: var(--space-xs);
}

.agent__devise {
  font-style: italic;
  color: var(--text-secondary);
  margin-bottom: var(--space-md);
}

.agent__details {
  margin-top: var(--space-md);
  padding-top: var(--space-md);
  border-top: 1px solid var(--border-subtle);
}

.agent__details h4 {
  font-size: 1rem;
  margin-bottom: var(--space-sm);
  color: var(--matrix-green);
}

.agent__details ul {
  list-style: none;
  padding: 0;
  margin-bottom: var(--space-md);
}

.agent__details li {
  padding-left: 1.5rem;
  position: relative;
  margin-bottom: var(--space-xs);
  color: var(--text-secondary);
}

.agent__details li::before {
  content: '‚Üí';
  position: absolute;
  left: 0;
  color: var(--matrix-green);
}

.conseil-action {
  padding: var(--space-xl) 0;
  background: linear-gradient(to bottom, transparent, rgba(0, 255, 65, 0.02));
}

.subsection-title {
  text-align: center;
  color: var(--ark-blue);
  margin-bottom: var(--space-lg);
}

.armageddon {
  max-width: 900px;
  margin: 0 auto;
}

.armageddon__context,
.armageddon__changes {
  background: var(--card-bg);
  border: 1px solid var(--border-subtle);
  border-radius: 12px;
  padding: var(--space-md);
  margin-bottom: var(--space-md);
}

.armageddon__context h4,
.armageddon__changes h4 {
  color: var(--matrix-green);
  margin-bottom: var(--space-sm);
}

.changes-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-md);
  margin-top: var(--space-md);
}

.change-card {
  background: rgba(13, 13, 13, 0.5);
  padding: var(--space-md);
  border-radius: 8px;
  border: 1px solid var(--border-subtle);
}

.change-card h5 {
  font-size: 1rem;
  margin-bottom: var(--space-sm);
}

.change-card ul {
  list-style: none;
  padding: 0;
}

.change-card li {
  padding-left: 1.5rem;
  position: relative;
  margin-bottom: var(--space-xs);
  font-size: 0.875rem;
  color: var(--text-secondary);
}

.change-card li::before {
  content: '‚Ä¢';
  position: absolute;
  left: 0;
  color: var(--matrix-green);
}

.armageddon__status {
  display: flex;
  justify-content: center;
  margin-top: var(--space-lg);
}

.transition {
  padding: var(--space-xl) 0;
  text-align: center;
}

.transition__content p {
  font-size: 1.5rem;
  margin-bottom: var(--space-md);
  color: var(--text-primary);
}

.transition__conclusion {
  font-weight: 700;
  color: var(--matrix-green);
  margin-top: var(--space-lg);
  margin-bottom: var(--space-lg);
}

.transition__cta {
  display: inline-block;
  padding: 1rem 2rem;
  background: var(--matrix-green);
  color: var(--code-dark);
  font-family: 'JetBrains Mono', monospace;
  font-weight: 700;
  border-radius: 8px;
  transition: all var(--transition-base);
}

.transition__cta:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 255, 65, 0.4);
}
</style>
