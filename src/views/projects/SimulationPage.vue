<template>
  <div class="simulation-page">
    <!-- Matrix Rain Background -->
    <div class="simulation-ambient">
      <div class="matrix-rain"></div>
      <div class="simulation-gradient"></div>
    </div>

    <!-- HERO -->
    <section class="simulation-hero">
      <div class="container">
        <div class="simulation-hero__content reveal">
          <div class="book-visual">
            <div class="book">
              <div class="book__spine"></div>
              <div class="book__cover">
                <span class="book__title">SIMULACRES</span>
                <span class="book__subtitle">ET SIMULATION</span>
                <span class="book__author">BAUDRILLARD</span>
              </div>
              <div class="book__hollow">
                <div class="pill pill--red"></div>
                <div class="pill pill--blue"></div>
              </div>
            </div>
          </div>

          <div class="simulation-hero__text">
            <div class="glitch-badge">
              <span class="glitch-badge__text" data-text="WAKE UP NEO">WAKE UP NEO</span>
            </div>
            
            <h1 class="simulation-hero__title">
              <span class="line line--1">Le d√©sert</span>
              <span class="line line--2">du <span class="text-gradient">r√©el</span></span>
            </h1>
            
            <blockquote class="simulation-hero__quote">
              ¬´ Le simulacre n'est jamais ce qui cache la v√©rit√© ‚Äî c'est la v√©rit√© qui cache qu'il n'y en a pas. Le simulacre est vrai. ¬ª
              <cite>‚Äî Jean Baudrillard, 1981</cite>
            </blockquote>
          </div>
        </div>
      </div>
    </section>

    <!-- THE MATRIX CONNECTION -->
    <section class="simulation-section">
      <div class="container">
        <div class="connection-grid reveal">
          <div class="connection-card glass">
            <div class="connection-card__icon">üìñ</div>
            <h3>Le livre dans Matrix</h3>
            <p>
              Dans la sc√®ne d'ouverture, Neo cache ses disques pirat√©s dans un exemplaire creux de 
              <em>Simulacres et Simulation</em>, ouvert au chapitre <strong>"On Nihilism"</strong>.
              Ce n'est pas un hasard.
            </p>
          </div>
          
          <div class="connection-card glass">
            <div class="connection-card__icon">üî¥</div>
            <h3>L'hyperr√©alit√©</h3>
            <p>
              Baudrillard d√©crit un monde o√π les <strong>copies sans original</strong> remplacent le r√©el.
              La Matrice EST ce simulacre : une simulation plus vraie que la r√©alit√© qu'elle a remplac√©e.
            </p>
          </div>
          
          <div class="connection-card glass">
            <div class="connection-card__icon">üåê</div>
            <h3>Notre monde aujourd'hui</h3>
            <p>
              R√©seaux sociaux, IA g√©n√©ratives, deepfakes, m√©tavers... 
              Nous vivons dans l'hyperr√©alit√© que Baudrillard avait pr√©dite.
              <strong>Le simulacre est devenu le r√©el.</strong>
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- THE 4 STAGES -->
    <section class="simulation-section simulation-section--dark">
      <div class="container">
        <div class="section-header reveal">
          <span class="section-tag">LES 4 STADES DU SIMULACRE</span>
          <h2>La procession des simulacres</h2>
          <p>Comment le signe a progressivement remplac√© le r√©el</p>
        </div>

        <div class="stages-timeline reveal">
          <div class="stage">
            <div class="stage__number">01</div>
            <div class="stage__content">
              <h4>Le reflet</h4>
              <p class="stage__desc">L'image est le <strong>reflet d'une r√©alit√© profonde</strong>. La carte repr√©sente fid√®lement le territoire.</p>
              <div class="stage__example">
                <span class="stage__label">Exemple :</span>
                Une photo de famille, un portrait fid√®le
              </div>
            </div>
          </div>

          <div class="stage">
            <div class="stage__number">02</div>
            <div class="stage__content">
              <h4>Le masque</h4>
              <p class="stage__desc">L'image <strong>masque et d√©nature</strong> la r√©alit√© profonde. Elle commence √† mentir.</p>
              <div class="stage__example">
                <span class="stage__label">Exemple :</span>
                La publicit√©, la propagande, les retouches photo
              </div>
            </div>
          </div>

          <div class="stage">
            <div class="stage__number">03</div>
            <div class="stage__content">
              <h4>Le masque de l'absence</h4>
              <p class="stage__desc">L'image <strong>masque l'absence</strong> de r√©alit√© profonde. Elle fait croire qu'il y a quelque chose derri√®re.</p>
              <div class="stage__example">
                <span class="stage__label">Exemple :</span>
                Disneyland (qui fait croire que le reste est "r√©el")
              </div>
            </div>
          </div>

          <div class="stage stage--final">
            <div class="stage__number">04</div>
            <div class="stage__content">
              <h4>Le simulacre pur</h4>
              <p class="stage__desc">L'image <strong>n'a plus aucun rapport avec quelque r√©alit√© que ce soit</strong>. Elle est son propre simulacre pur.</p>
              <div class="stage__example">
                <span class="stage__label">Exemple :</span>
                La Matrice, les r√©seaux sociaux, l'IA g√©n√©rative
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- TECH PARALLELS -->
    <section class="simulation-section">
      <div class="container">
        <div class="section-header reveal">
          <span class="section-tag">HYPERR√âALIT√â NUM√âRIQUE</span>
          <h2>Le simulacre technologique</h2>
          <p>Baudrillard en 1981, notre r√©alit√© en 2026</p>
        </div>

        <div class="parallels-grid reveal">
          <div class="parallel-card">
            <div class="parallel-card__header">
              <span class="parallel-card__icon">ü§ñ</span>
              <h4>IA G√©n√©rative</h4>
            </div>
            <div class="parallel-card__body">
              <p class="parallel-card__baudrillard">
                ¬´ La simulation n'est plus celle d'un territoire, d'un √™tre r√©f√©rentiel, d'une substance. Elle est la g√©n√©ration par les mod√®les d'un r√©el sans origine ni r√©alit√©. ¬ª
              </p>
              <p class="parallel-card__modern">
                GPT, Midjourney, Sora g√©n√®rent du contenu sans "original". Des textes jamais √©crits, des images jamais photographi√©es, des vid√©os jamais film√©es.
              </p>
            </div>
          </div>

          <div class="parallel-card">
            <div class="parallel-card__header">
              <span class="parallel-card__icon">üì±</span>
              <h4>R√©seaux sociaux</h4>
            </div>
            <div class="parallel-card__body">
              <p class="parallel-card__baudrillard">
                ¬´ Nous sommes dans un univers o√π il y a de plus en plus d'information et de moins en moins de sens. ¬ª
              </p>
              <p class="parallel-card__modern">
                Infinite scroll, engagement farming, outrage marketing. Le contenu existe pour g√©n√©rer des m√©triques, pas du sens.
              </p>
            </div>
          </div>

          <div class="parallel-card">
            <div class="parallel-card__header">
              <span class="parallel-card__icon">‚òÅÔ∏è</span>
              <h4>Cloud & SaaS</h4>
            </div>
            <div class="parallel-card__body">
              <p class="parallel-card__baudrillard">
                ¬´ Le territoire ne pr√©c√®de plus la carte, ni ne lui survit. C'est la carte qui engendre le territoire. ¬ª
              </p>
              <p class="parallel-card__modern">
                Vos donn√©es n'existent que dans le cloud. Le service d√©finit l'usage. Vous ne poss√©dez rien, vous louez des simulacres.
              </p>
            </div>
          </div>

          <div class="parallel-card">
            <div class="parallel-card__header">
              <span class="parallel-card__icon">üé≠</span>
              <h4>Deepfakes</h4>
            </div>
            <div class="parallel-card__body">
              <p class="parallel-card__baudrillard">
                ¬´ Il n'y a plus de miroir de l'√™tre et des apparences, du r√©el et de son concept. ¬ª
              </p>
              <p class="parallel-card__modern">
                La vid√©o n'est plus une preuve. L'audio peut √™tre synth√©tis√©. L'identit√© devient un param√®tre modifiable.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- THE WAY OUT -->
    <section class="simulation-section simulation-section--accent">
      <div class="container">
        <div class="escape-content reveal">
          <div class="escape-visual">
            <div class="pill-choice">
              <div class="pill-option pill-option--blue">
                <div class="pill-3d pill-3d--blue"></div>
                <span>Rester dans la Matrice</span>
                <ul>
                  <li>SaaS d√©pendant</li>
                  <li>Donn√©es US</li>
                  <li>IA black-box</li>
                  <li>Vendor lock-in</li>
                </ul>
              </div>
              
              <div class="pill-vs">VS</div>
              
              <div class="pill-option pill-option--red">
                <div class="pill-3d pill-3d--red"></div>
                <span>Se d√©brancher</span>
                <ul>
                  <li>Infrastructure souveraine</li>
                  <li>Donn√©es en France</li>
                  <li>IA locale transparente</li>
                  <li>Code que vous poss√©dez</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="escape-text">
            <h2>Construire Zion</h2>
            <p>
              Dans Matrix, Zion est la derni√®re ville humaine libre. Un refuge construit par ceux qui ont choisi de voir la r√©alit√©.
            </p>
            <p>
              <strong>GL Digital Lab</strong> construit des "Zion num√©riques" pour les PME : des infrastructures souveraines o√π vos donn√©es vous appartiennent, o√π l'IA est transparente, o√π le code est le v√¥tre.
            </p>
            <p class="escape-cta-text">
              Le choix vous appartient. Mais il faut d'abord savoir qu'il existe.
            </p>
            <router-link to="/services" class="btn btn--primary btn--glow">
              Choisir la pilule rouge ‚Üí
            </router-link>
          </div>
        </div>
      </div>
    </section>

    <!-- MORPHEUS QUOTE -->
    <section class="simulation-section">
      <div class="container">
        <div class="morpheus-quote reveal">
          <div class="morpheus-quote__icon">üï∂Ô∏è</div>
          <blockquote>
            ¬´ Je ne peux que te montrer la porte. C'est toi qui dois la franchir. ¬ª
          </blockquote>
          <cite>‚Äî Morpheus</cite>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup>
import { onMounted, onUnmounted } from 'vue';
import { useScrollReveal } from '@/composables/useScrollReveal';

const { observeAll } = useScrollReveal();

// Matrix rain effect
let rainInterval;

const createMatrixRain = () => {
  const container = document.querySelector('.matrix-rain');
  if (!container) return;

  const createDrop = () => {
    const drop = document.createElement('div');
    drop.className = 'rain-drop';
    drop.style.left = Math.random() * 100 + '%';
    drop.style.animationDuration = (Math.random() * 2 + 2) + 's';
    drop.style.opacity = Math.random() * 0.5 + 0.1;
    drop.textContent = String.fromCharCode(0x30A0 + Math.random() * 96);
    container.appendChild(drop);

    setTimeout(() => {
      drop.remove();
    }, 4000);
  };

  rainInterval = setInterval(createDrop, 100);
};

onMounted(() => {
  observeAll('.reveal');
  createMatrixRain();
});

onUnmounted(() => {
  if (rainInterval) clearInterval(rainInterval);
});
</script>

<style scoped>
.simulation-page {
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

/* Ambient */
.simulation-ambient {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
}

.matrix-rain {
  position: absolute;
  inset: 0;
  overflow: hidden;
}

.matrix-rain :deep(.rain-drop) {
  position: absolute;
  top: -20px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 14px;
  color: var(--primary);
  text-shadow: 0 0 10px var(--primary);
  animation: fall linear forwards;
}

@keyframes fall {
  to {
    transform: translateY(100vh);
  }
}

.simulation-gradient {
  position: absolute;
  inset: 0;
  background: 
    radial-gradient(ellipse at 50% 0%, rgba(16, 185, 129, 0.1) 0%, transparent 50%),
    radial-gradient(ellipse at 0% 100%, rgba(239, 68, 68, 0.05) 0%, transparent 40%);
}

/* Hero */
.simulation-hero {
  padding: 120px 0 80px;
  min-height: 100vh;
  display: flex;
  align-items: center;
}

.simulation-hero__content {
  display: grid;
  grid-template-columns: 300px 1fr;
  gap: var(--space-xl);
  align-items: center;
}

/* Book Visual */
.book-visual {
  perspective: 1000px;
}

.book {
  position: relative;
  width: 200px;
  height: 280px;
  transform-style: preserve-3d;
  transform: rotateY(-20deg);
  transition: transform 0.5s ease;
}

.book:hover {
  transform: rotateY(-5deg) rotateX(5deg);
}

.book__cover {
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #1a1a2e 0%, #0a0a14 100%);
  border: 2px solid var(--primary);
  border-radius: 0 8px 8px 0;
  padding: 2rem 1.5rem;
  display: flex;
  flex-direction: column;
  justify-content: center;
  box-shadow: 
    5px 5px 20px rgba(0, 0, 0, 0.5),
    inset 0 0 30px rgba(16, 185, 129, 0.1);
}

.book__spine {
  position: absolute;
  left: -20px;
  width: 20px;
  height: 100%;
  background: linear-gradient(90deg, #0a0a14 0%, #1a1a2e 100%);
  border: 2px solid var(--primary);
  border-right: none;
  border-radius: 8px 0 0 8px;
  transform: rotateY(-90deg);
  transform-origin: right;
}

.book__title {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--primary);
  letter-spacing: 0.2em;
  text-transform: uppercase;
}

.book__subtitle {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.9rem;
  color: var(--primary);
  letter-spacing: 0.15em;
  opacity: 0.8;
  margin-top: 0.25rem;
}

.book__author {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.7rem;
  color: var(--text-muted);
  letter-spacing: 0.3em;
  margin-top: auto;
  text-transform: uppercase;
}

.book__hollow {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  gap: 1rem;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.book:hover .book__hollow {
  opacity: 1;
}

.pill {
  width: 30px;
  height: 12px;
  border-radius: 6px;
  animation: pulse-pill 2s infinite;
}

.pill--red {
  background: linear-gradient(90deg, #ef4444 0%, #dc2626 100%);
  box-shadow: 0 0 20px rgba(239, 68, 68, 0.5);
}

.pill--blue {
  background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
}

@keyframes pulse-pill {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

/* Hero Text */
.glitch-badge {
  margin-bottom: var(--space-md);
}

.glitch-badge__text {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.75rem;
  color: var(--primary);
  letter-spacing: 0.3em;
  position: relative;
  animation: glitch 3s infinite;
}

@keyframes glitch {
  0%, 90%, 100% { 
    text-shadow: none;
    transform: none;
  }
  91% {
    text-shadow: -2px 0 #ef4444, 2px 0 #3b82f6;
    transform: translateX(-2px);
  }
  92% {
    text-shadow: 2px 0 #ef4444, -2px 0 #3b82f6;
    transform: translateX(2px);
  }
  93% {
    text-shadow: none;
    transform: none;
  }
}

.simulation-hero__title {
  font-size: clamp(3rem, 8vw, 5rem);
  font-weight: 900;
  line-height: 1;
  margin-bottom: var(--space-md);
}

.simulation-hero__title .line {
  display: block;
}

.simulation-hero__title .line--1 {
  color: var(--text-muted);
  font-size: 0.6em;
}

.simulation-hero__quote {
  font-size: 1.1rem;
  font-style: italic;
  color: var(--text-muted);
  border-left: 3px solid var(--primary);
  padding-left: 1.5rem;
  max-width: 500px;
  line-height: 1.8;
}

.simulation-hero__quote cite {
  display: block;
  margin-top: 1rem;
  font-size: 0.85rem;
  color: var(--text-dark);
  font-style: normal;
}

/* Sections */
.simulation-section {
  padding: var(--space-xl) 0;
}

.simulation-section--dark {
  background: rgba(0, 0, 0, 0.3);
}

.simulation-section--accent {
  background: linear-gradient(180deg, 
    rgba(16, 185, 129, 0.05) 0%, 
    transparent 50%,
    rgba(239, 68, 68, 0.05) 100%
  );
}

.section-header {
  text-align: center;
  max-width: 600px;
  margin: 0 auto var(--space-xl);
}

.section-tag {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.7rem;
  color: var(--primary);
  letter-spacing: 0.2em;
  display: block;
  margin-bottom: var(--space-sm);
}

.section-header h2 {
  font-size: clamp(2rem, 4vw, 3rem);
  font-weight: 900;
  margin-bottom: var(--space-sm);
}

.section-header p {
  color: var(--text-muted);
  font-size: 1.1rem;
}

/* Connection Grid */
.connection-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-md);
}

.connection-card {
  padding: var(--space-md);
  border-radius: 1rem;
  border: 1px solid var(--border);
  transition: all 0.3s ease;
}

.connection-card:hover {
  border-color: var(--primary);
  transform: translateY(-5px);
}

.connection-card__icon {
  font-size: 2.5rem;
  margin-bottom: var(--space-sm);
}

.connection-card h3 {
  font-size: 1.25rem;
  margin-bottom: var(--space-sm);
}

.connection-card p {
  color: var(--text-muted);
  line-height: 1.7;
}

.connection-card em {
  color: var(--text-main);
}

.connection-card strong {
  color: var(--primary);
}

/* Stages Timeline */
.stages-timeline {
  max-width: 700px;
  margin: 0 auto;
}

.stage {
  display: flex;
  gap: var(--space-md);
  padding: var(--space-md) 0;
  border-left: 2px solid var(--border);
  padding-left: var(--space-md);
  position: relative;
  margin-left: 1.5rem;
}

.stage::before {
  content: '';
  position: absolute;
  left: -8px;
  top: var(--space-md);
  width: 14px;
  height: 14px;
  background: var(--bg);
  border: 2px solid var(--border);
  border-radius: 50%;
  transition: all 0.3s ease;
}

.stage:hover::before {
  border-color: var(--primary);
  background: var(--primary);
  box-shadow: 0 0 20px var(--primary);
}

.stage--final {
  border-left-color: var(--primary);
}

.stage--final::before {
  border-color: var(--primary);
  background: var(--primary);
}

.stage__number {
  font-family: 'JetBrains Mono', monospace;
  font-size: 2rem;
  font-weight: 700;
  color: var(--text-dark);
  min-width: 60px;
}

.stage--final .stage__number {
  color: var(--primary);
}

.stage__content h4 {
  font-size: 1.25rem;
  margin-bottom: 0.5rem;
}

.stage--final .stage__content h4 {
  color: var(--primary);
}

.stage__desc {
  color: var(--text-muted);
  line-height: 1.7;
  margin-bottom: 0.75rem;
}

.stage__example {
  font-size: 0.85rem;
  color: var(--text-dark);
  padding: 0.75rem 1rem;
  background: var(--surface);
  border-radius: 0.5rem;
  border-left: 3px solid var(--primary);
}

.stage__label {
  color: var(--primary);
  font-weight: 600;
}

/* Parallels Grid */
.parallels-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--space-md);
}

.parallel-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 1rem;
  overflow: hidden;
  transition: all 0.3s ease;
}

.parallel-card:hover {
  border-color: var(--primary);
  transform: translateY(-5px);
}

.parallel-card__header {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: var(--space-md);
  background: rgba(16, 185, 129, 0.05);
  border-bottom: 1px solid var(--border);
}

.parallel-card__icon {
  font-size: 2rem;
}

.parallel-card__header h4 {
  font-size: 1.1rem;
}

.parallel-card__body {
  padding: var(--space-md);
}

.parallel-card__baudrillard {
  font-style: italic;
  color: var(--text-muted);
  font-size: 0.9rem;
  line-height: 1.7;
  padding-left: 1rem;
  border-left: 2px solid var(--primary);
  margin-bottom: 1rem;
}

.parallel-card__modern {
  color: var(--text-main);
  line-height: 1.7;
}

/* Escape Section */
.escape-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-xl);
  align-items: center;
}

.pill-choice {
  display: flex;
  align-items: stretch;
  gap: var(--space-md);
}

.pill-option {
  flex: 1;
  padding: var(--space-md);
  border-radius: 1rem;
  text-align: center;
  transition: all 0.3s ease;
}

.pill-option--blue {
  background: rgba(59, 130, 246, 0.1);
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.pill-option--red {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.pill-option--red:hover {
  border-color: rgba(239, 68, 68, 0.6);
  box-shadow: 0 0 30px rgba(239, 68, 68, 0.2);
}

.pill-3d {
  width: 60px;
  height: 24px;
  border-radius: 12px;
  margin: 0 auto var(--space-sm);
}

.pill-3d--blue {
  background: linear-gradient(180deg, #60a5fa 0%, #2563eb 100%);
  box-shadow: 0 4px 20px rgba(59, 130, 246, 0.4);
}

.pill-3d--red {
  background: linear-gradient(180deg, #f87171 0%, #dc2626 100%);
  box-shadow: 0 4px 20px rgba(239, 68, 68, 0.4);
}

.pill-option span {
  display: block;
  font-weight: 600;
  margin-bottom: var(--space-sm);
}

.pill-option--blue span { color: #60a5fa; }
.pill-option--red span { color: #f87171; }

.pill-option ul {
  list-style: none;
  padding: 0;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.pill-option li {
  padding: 0.25rem 0;
}

.pill-option--blue li::before { content: '√ó '; color: #60a5fa; }
.pill-option--red li::before { content: '‚úì '; color: #f87171; }

.pill-vs {
  display: flex;
  align-items: center;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 700;
  color: var(--text-dark);
}

.escape-text h2 {
  font-size: 2.5rem;
  font-weight: 900;
  margin-bottom: var(--space-md);
}

.escape-text p {
  color: var(--text-muted);
  line-height: 1.8;
  margin-bottom: 1rem;
}

.escape-cta-text {
  color: var(--primary) !important;
  font-weight: 600;
  margin-bottom: var(--space-md) !important;
}

/* Morpheus Quote */
.morpheus-quote {
  text-align: center;
  max-width: 600px;
  margin: 0 auto;
  padding: var(--space-xl) 0;
}

.morpheus-quote__icon {
  font-size: 3rem;
  margin-bottom: var(--space-md);
}

.morpheus-quote blockquote {
  font-size: clamp(1.5rem, 3vw, 2rem);
  font-style: italic;
  color: var(--text-main);
  line-height: 1.5;
  margin-bottom: var(--space-sm);
}

.morpheus-quote cite {
  color: var(--primary);
  font-size: 1rem;
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem 2rem;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.85rem;
  font-weight: 600;
  text-decoration: none;
  border-radius: 0.5rem;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn--primary {
  background: var(--primary);
  color: var(--bg);
}

.btn--primary:hover {
  background: #059669;
}

.btn--glow:hover {
  box-shadow: 0 0 40px rgba(16, 185, 129, 0.5);
}

/* Reveal */
.reveal {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), 
              transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
}

.reveal.revealed {
  opacity: 1;
  transform: translateY(0);
}

/* Responsive */
@media (max-width: 968px) {
  .simulation-hero__content {
    grid-template-columns: 1fr;
    text-align: center;
  }

  .book-visual {
    display: flex;
    justify-content: center;
    margin-bottom: var(--space-lg);
  }

  .simulation-hero__quote {
    margin: 0 auto;
  }

  .escape-content {
    grid-template-columns: 1fr;
  }

  .pill-choice {
    flex-direction: column;
  }

  .pill-vs {
    justify-content: center;
    padding: var(--space-sm) 0;
  }
}

@media (max-width: 600px) {
  .book {
    width: 160px;
    height: 224px;
  }

  .stage {
    flex-direction: column;
    gap: var(--space-sm);
  }

  .stage__number {
    font-size: 1.5rem;
  }
}

@media (prefers-reduced-motion: reduce) {
  .reveal {
    opacity: 1;
    transform: none;
    transition: none;
  }

  .matrix-rain :deep(.rain-drop) {
    animation: none;
  }

  .glitch-badge__text {
    animation: none;
  }

  .pill {
    animation: none;
  }
}
</style>
