<template>
  <div class="stack-ia">
    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <h1 class="hero__title">De ChatGPT √† mon propre √©cosyst√®me IA</h1>
        <h2 class="hero__subtitle">Timeline 2025 : construction stack IA locale compl√®te</h2>
        <p class="hero__description">
          En 2025, j'ai d√©cid√© d'arr√™ter de d√©pendre du cloud pour mes workflows de dev.<br>
          Pas par id√©ologie. Par pragmatisme.
        </p>
      </div>
    </section>

    <!-- Timeline 2025 -->
    <section class="timeline">
      <div class="container">
        <h2 class="section-title">Timeline 2025</h2>
        
        <div class="timeline__items">
          <TimelineItem
            v-for="(item, index) in timelineData"
            :key="item.period"
            :year="item.period"
            :title="item.title"
            :subtitle="item.subtitle"
            :is-last="index === timelineData.length - 1"
          >
            <div v-html="item.content"></div>
          </TimelineItem>
        </div>
      </div>
    </section>

    <!-- Architecture actuelle -->
    <section class="architecture">
      <div class="container">
        <h2 class="section-title">Architecture actuelle</h2>
        
        <div class="architecture__schema">
          <div class="schema-box">
            <h3>STACK IA LOCALE 2025</h3>
            
            <div class="stack-layers">
              <div class="layer">
                <strong>Interface Dev</strong>
                <p>VS Code ‚Üê‚Üí Continue ‚Üê‚Üí Nemotron</p>
              </div>
              
              <div class="layer">
                <strong>Documentation & RAG</strong>
                <p>Obsidian ‚Üí Zettelkasten ‚Üí ChromaDB</p>
              </div>
              
              <div class="layer">
                <strong>Automatisation</strong>
                <p>n8n Workflows ‚Üí Discord Bot ‚Üí ARKADIA</p>
              </div>
              
              <div class="layer infrastructure">
                <strong>Infrastructure</strong>
                <p>üê≥ Docker Compose</p>
                <p>üíæ 100% local</p>
                <p>‚ö° &lt;500ms latence</p>
                <p>üí∞ 0‚Ç¨/mois</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Pourquoi local ? -->
    <section class="pourquoi-local">
      <div class="container">
        <h2 class="section-title">Pourquoi local ?</h2>
        
        <div class="raisons-grid">
          <Card title="Contr√¥le total">
            <p><strong>Mes donn√©es restent chez moi</strong></p>
            <ul>
              <li>Pas de configs ARKADIA sur serveurs externes</li>
              <li>Pas de censure mod√®le</li>
              <li>Fine-tuning possible sur mes donn√©es</li>
            </ul>
          </Card>

          <Card title="Co√ªts pr√©visibles">
            <p><strong>0‚Ç¨/mois apr√®s setup</strong></p>
            <ul>
              <li>Setup initial : ~500‚Ç¨ hardware</li>
              <li>ChatGPT + Claude : ~40‚Ç¨/mois √©vit√©s</li>
              <li>ROI en 12 mois</li>
            </ul>
          </Card>

          <Card title="Performance cibl√©e">
            <p><strong>Latence ultra-faible</strong></p>
            <ul>
              <li>Localhost : &lt;500ms moyenne</li>
              <li>API cloud : 2-5 secondes</li>
              <li>Optimis√© pour MES use cases</li>
            </ul>
          </Card>
        </div>

        <div class="limites">
          <h3>Limites assum√©es</h3>
          <p>Pas de remplacement complet du cloud. Usage hybride optimal :</p>
          <ul>
            <li><strong>Local :</strong> T√¢ches r√©p√©titives, g√©n√©ration configs, r√©sum√©s</li>
            <li><strong>Cloud :</strong> Raisonnement complexe, cr√©ativit√© pure, contexte ultra-long</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Transition -->
    <section class="transition">
      <div class="container">
        <div class="transition__content">
          <p>Ma stack IA locale c'est pas un dogme.</p>
          <p>C'est un outil strat√©gique pour contr√¥ler mes donn√©es,</p>
          <p>r√©duire mes co√ªts, et optimiser ma latence.</p>
          <p class="transition__conclusion">
            Le cloud reste utile. Mais maintenant j'ai le choix.
          </p>
          <router-link to="/arkadia" class="transition__cta">
            ‚Üí Voir l'application concr√®te : ARKADIA FRANCE
          </router-link>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup>
import { ref } from 'vue';
import Card from '@/components/common/Card.vue';
import TimelineItem from '@/components/common/TimelineItem.vue';

const timelineData = ref([
  {
    period: 'JAN-MAR',
    title: 'La frustration',
    subtitle: 'Le d√©clic initial',
    content: `
      <p><strong>Le probl√®me :</strong> Je paye ChatGPT Plus + Claude. Limites de tokens. Temps d'attente. Co√ªts qui montent.</p>
      <p><strong>La question :</strong> "Et si je pouvais faire tourner √ßa localement ?"</p>
      <p><strong>Premiers tests :</strong></p>
      <ul>
        <li>Installation Ollama</li>
        <li>Llama 2 et Mistral</li>
        <li>Latence : quasi-instantan√©e</li>
        <li>Probl√®me : Interface terminal pas pratique</li>
      </ul>
    `
  },
  {
    period: 'APR-JUN',
    title: 'Les fondations',
    subtitle: 'Stack de base',
    content: `
      <p><strong>Infrastructure d√©ploy√©e :</strong></p>
      <ul>
        <li><strong>Nemotron :</strong> LLM local performant (√©quivalent GPT-3.5)</li>
        <li><strong>OpenWebUI :</strong> Interface unifi√©e multi-mod√®les</li>
        <li><strong>Continue :</strong> Copilote VS Code</li>
      </ul>
      <p><strong>Use cases imm√©diats :</strong> G√©n√©ration code Symfony, refactoring, debugging.</p>
      <p><strong>Apprentissage cl√© :</strong> Prompting mod√®les locaux ‚â† GPT-4</p>
    `
  },
  {
    period: 'JUL-SEP',
    title: 'L\'infrastructure',
    subtitle: 'Automatisation compl√®te',
    content: `
      <p><strong>Workflows n8n d√©ploy√©s :</strong></p>
      <ul>
        <li>Bot Discord ARKADIA (commandes IA)</li>
        <li>R√©sum√©s meetings communaut√©</li>
        <li>G√©n√©ration configs serveur valid√©es</li>
      </ul>
      <p><strong>ChromaDB + RAG :</strong></p>
      <ul>
        <li>Mes docs Obsidian index√©s</li>
        <li>Nemotron r√©pond avec MES donn√©es</li>
        <li>Fix incompatibilit√© Pydantic v1/v2</li>
      </ul>
    `
  },
  {
    period: 'OCT-DEC',
    title: 'Production',
    subtitle: 'Int√©gration totale',
    content: `
      <p><strong>Passage en production :</strong></p>
      <ul>
        <li>Pipeline GitHub + webhooks + OpenWebUI</li>
        <li>Zettelkasten Obsidian ‚Üí RAG ChromaDB</li>
        <li>Syst√®me suivi distribu√© ARKADIA</li>
      </ul>
      <p><strong>R√©sultats mesur√©s :</strong></p>
      <ul>
        <li>G√©n√©ration configs : 2-3s ‚Üí &lt;500ms</li>
        <li>√âconomie : ~20‚Ç¨/mois</li>
        <li>Latence divis√©e par 4</li>
      </ul>
    `
  }
]);
</script>

<style scoped>
.stack-ia {
  min-height: 100vh;
  padding-top: 80px;
}

.hero {
  min-height: 60vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: var(--space-xl) 0;
}

.hero__title {
  margin-bottom: var(--space-sm);
}

.hero__subtitle {
  font-size: 1.5rem;
  color: var(--ark-blue);
  margin-bottom: var(--space-md);
}

.hero__description {
  font-size: 1.125rem;
  color: var(--text-secondary);
}

.timeline {
  padding: var(--space-xl) 0;
}

.section-title {
  text-align: center;
  margin-bottom: var(--space-xl);
  color: var(--matrix-green);
}

.architecture {
  padding: var(--space-xl) 0;
  background: linear-gradient(to bottom, transparent, rgba(0, 255, 65, 0.02));
}

.architecture__schema {
  max-width: 800px;
  margin: 0 auto;
}

.schema-box {
  background: var(--card-bg);
  border: 2px solid var(--matrix-green);
  border-radius: 12px;
  padding: var(--space-lg);
  backdrop-filter: blur(10px);
}

.schema-box h3 {
  text-align: center;
  color: var(--matrix-green);
  margin-bottom: var(--space-lg);
  font-size: 1.5rem;
}

.stack-layers {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.layer {
  background: rgba(13, 13, 13, 0.5);
  border: 1px solid var(--border-subtle);
  border-radius: 8px;
  padding: var(--space-md);
}

.layer strong {
  display: block;
  color: var(--ark-blue);
  margin-bottom: var(--space-xs);
  font-size: 1.125rem;
}

.layer p {
  color: var(--text-secondary);
  margin-bottom: var(--space-xs);
}

.layer.infrastructure {
  border-color: var(--matrix-green);
  background: rgba(0, 255, 65, 0.05);
}

.pourquoi-local {
  padding: var(--space-xl) 0;
}

.raisons-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-md);
  margin-bottom: var(--space-xl);
}

.raisons-grid ul {
  list-style: none;
  padding: 0;
  margin-top: var(--space-sm);
}

.raisons-grid li {
  padding-left: 1.5rem;
  position: relative;
  margin-bottom: var(--space-xs);
  color: var(--text-secondary);
  font-size: 0.875rem;
}

.raisons-grid li::before {
  content: '‚úì';
  position: absolute;
  left: 0;
  color: var(--matrix-green);
}

.limites {
  max-width: 800px;
  margin: 0 auto;
  background: var(--card-bg);
  border: 1px solid var(--border-subtle);
  border-radius: 12px;
  padding: var(--space-md);
}

.limites h3 {
  color: var(--ark-blue);
  margin-bottom: var(--space-sm);
}

.limites ul {
  margin-top: var(--space-sm);
}

.limites li {
  margin-bottom: var(--space-xs);
  color: var(--text-secondary);
}

.transition {
  padding: var(--space-xl) 0;
  text-align: center;
}

.transition__content p {
  font-size: 1.5rem;
  margin-bottom: var(--space-md);
  color: var(--text-primary);
}

.transition__conclusion {
  font-weight: 700;
  color: var(--matrix-green);
  margin-top: var(--space-lg);
  margin-bottom: var(--space-lg);
}

.transition__cta {
  display: inline-block;
  padding: 1rem 2rem;
  background: var(--matrix-green);
  color: var(--code-dark);
  font-family: 'JetBrains Mono', monospace;
  font-weight: 700;
  border-radius: 8px;
  transition: all var(--transition-base);
}

.transition__cta:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 255, 65, 0.4);
}
</style>
