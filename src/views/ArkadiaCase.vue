<template>
  <div class="arkadia-case">
    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <h1 class="hero__title">ARKADIA FRANCE</h1>
        <h2 class="hero__subtitle">Quand le gaming devient un lab technique grandeur nature</h2>
        <p class="hero__description">
          150 joueurs. 41 mods. Une √©conomie virtuelle. Un cluster multi-serveurs.<br>
          Si √ßa tient face √† 150 humains r√©els, √ßa tiendra partout.
        </p>
      </div>
    </section>

    <!-- Metrics Dashboard -->
    <section class="metrics">
      <div class="container">
        <h2 class="section-title">ARKADIA en chiffres</h2>
        
        <div class="metrics__grid">
          <MetricCard :value="150" label="Membres Discord actifs" icon="üë•" />
          <MetricCard value="98.7" suffix="%" label="Uptime serveur 2025" icon="‚ö°" />
          <MetricCard :value="41" label="Mods g√©r√©s simultan√©ment" icon="üéÆ" />
          <MetricCard :value="24" label="Events organis√©s 2025" icon="üé™" />
          <MetricCard :value="450" label="Messages bot/jour" icon="ü§ñ" />
          <MetricCard :value="87" suffix="%" label="R√©tention mensuelle" icon="üìà" />
        </div>
      </div>
    </section>

    <!-- Challenges techniques -->
    <section class="challenges">
      <div class="container">
        <h2 class="section-title">Challenges techniques</h2>
        
        <div class="challenge" v-for="challenge in challenges" :key="challenge.id">
          <h3 class="challenge__title">{{ challenge.title }}</h3>
          <p class="challenge__problem"><strong>Le probl√®me :</strong> {{ challenge.problem }}</p>
          
          <div class="challenge__solution">
            <h4>Solution d√©ploy√©e :</h4>
            <ul>
              <li v-for="(solution, i) in challenge.solutions" :key="i">{{ solution }}</li>
            </ul>
          </div>
          
          <div class="challenge__results" v-if="challenge.results">
            <h4>R√©sultats :</h4>
            <div class="results-table">
              <div class="result-row" v-for="(result, key) in challenge.results" :key="key">
                <span class="result-label">{{ key }}</span>
                <span class="result-value">{{ result }}</span>
              </div>
            </div>
          </div>

          <div class="challenge__quote" v-if="challenge.quote">
            <p>"{{ challenge.quote }}"</p>
            <span class="quote-author">‚Äî Joueur Discord</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Learnings cl√©s -->
    <section class="learnings">
      <div class="container">
        <h2 class="section-title">Learnings cl√©s</h2>
        
        <div class="learnings__grid">
          <Card v-for="learning in learnings" :key="learning.id" :title="learning.title">
            <p>{{ learning.content }}</p>
          </Card>
        </div>
      </div>
    </section>

    <!-- Transition -->
    <section class="transition">
      <div class="container">
        <div class="transition__content">
          <p>ARKADIA FRANCE c'est pas qu'un projet gaming.</p>
          <p>C'est mon lab technique pour scaler des syst√®mes complexes,</p>
          <p>g√©rer des utilisateurs r√©els, et mesurer l'impact de chaque d√©cision.</p>
          <p class="transition__conclusion">
            Chaque probl√®me r√©solu = comp√©tence transf√©rable ailleurs.
          </p>
          <router-link to="/" class="transition__cta">
            ‚Üí Retour au parcours complet
          </router-link>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup>
import { ref } from 'vue';
import Card from '@/components/common/Card.vue';
import MetricCard from '@/components/common/MetricCard.vue';

const challenges = ref([
  {
    id: 1,
    title: '1. Infrastructure : 41 mods, z√©ro compromis',
    problem: '41 mods qui chargent dans le d√©sordre = crash garanti',
    solutions: [
      'Audit complet d√©pendances (matrice 41x41)',
      'R√©organisation Game.ini par ordre strict',
      'Scripts validation automatique',
      'Monitoring uptime temps r√©el avec alertes'
    ],
    results: {
      'Uptime moyen': '85% ‚Üí 98.7%',
      'Crashes/mois': '12 ‚Üí 1',
      'Temps d√©marrage': '8-12 min ‚Üí 4-6 min',
      'Tickets support': '-87%'
    },
    quote: 'Avant j\'osais pas faire un long breeding, peur du crash. Maintenant je dors tranquille.'
  },
  {
    id: 2,
    title: '2. √âconomie virtuelle : transformer l\'inflation en gameplay',
    problem: 'Serveur x5 ressources + breeding x30 = inflation massive, monnaie sans valeur',
    solutions: [
      'Sinks ludiques (chibis collectibles, monuments prestige)',
      'Events √©conomiques cycliques (ench√®res live)',
      'Buffs temporaires PvE',
      'Tracking automatis√© PostgreSQL'
    ],
    results: {
      'Satisfaction √©conomie': '42% ‚Üí 71%',
      'Consommation monnaie': '+248%',
      'Joueurs "rien √† acheter"': '67% ‚Üí 12%',
      'Participation events': '68%'
    },
    quote: 'Vous avez transform√© un probl√®me chiant en truc fun. C\'est de la magie ou quoi ?'
  },
  {
    id: 3,
    title: '3. Gestion communaut√© : 150 personnes, 150 attentes diff√©rentes',
    problem: 'Casual + Mid-core + Hardcore = attentes oppos√©es sur m√™me serveur',
    solutions: [
      'Segmentation gameplay (zones PvE strict + events PvP opt-in)',
      'Bot Discord intelligent (FAQ automatis√©e via Nemotron RAG)',
      'Communication transparente (votes, sondages)',
      'Support 24/7 automatis√©'
    ],
    results: {
      'R√©tention mensuelle': '87%',
      'Satisfaction g√©n√©rale': '8.3/10',
      'Requ√™tes bot/jour': '~450',
      'R√©solues automatiquement': '78%'
    },
    quote: 'C\'est le premier serveur o√π je me sens √©cout√©. Les admins testent avant de changer.'
  }
]);

const learnings = ref([
  {
    id: 1,
    title: 'Scaler c\'est g√©rer la complexit√©, pas la charge',
    content: 'G√©rer 150 joueurs avec 41 mods est exponentiellement plus complexe que 10 joueurs avec 5 mods. La solution : architecture, automatisation, communication.'
  },
  {
    id: 2,
    title: 'Monitoring > Debugging r√©actif',
    content: 'Le monitoring proactif √©conomise des heures de gal√®re. D√©tection crash en 2min vs d√©couverte au r√©veil (6h downtime).'
  },
  {
    id: 3,
    title: 'Transparence > Features cach√©es',
    content: 'Les joueurs tol√®rent les bugs si tu communiques. Ils ne tol√®rent pas les modifications cach√©es. Trust damage irr√©versible.'
  },
  {
    id: 4,
    title: 'Communaut√© = sentiment d\'appartenance',
    content: 'Ce qui fid√©lise : √™tre √©cout√©, participer aux d√©cisions, sentir que sa voix compte. Le gameplay c\'est juste le pr√©texte.'
  },
  {
    id: 5,
    title: 'Le Conseil des Agents fonctionne IRL',
    content: 'Probl√®me complexe + 4 perspectives (N√©o + Root + Patch + Nayla) = Solution robuste, test√©e, mesur√©e, communiqu√©e.'
  }
]);
</script>

<style scoped>
.arkadia-case {
  min-height: 100vh;
  padding-top: 80px;
}

.hero {
  min-height: 60vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: var(--space-xl) 0;
}

.hero__title {
  font-size: clamp(3rem, 6vw, 5rem);
  margin-bottom: var(--space-sm);
  background: linear-gradient(135deg, var(--matrix-green), var(--ark-blue));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero__subtitle {
  font-size: 1.5rem;
  color: var(--ark-blue);
  margin-bottom: var(--space-md);
}

.hero__description {
  font-size: 1.125rem;
  color: var(--text-secondary);
}

.metrics {
  padding: var(--space-xl) 0;
  background: linear-gradient(to bottom, transparent, rgba(74, 158, 255, 0.02));
}

.section-title {
  text-align: center;
  margin-bottom: var(--space-xl);
  color: var(--matrix-green);
}

.metrics__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-md);
}

.challenges {
  padding: var(--space-xl) 0;
}

.challenge {
  max-width: 900px;
  margin: 0 auto var(--space-xl) auto;
  background: var(--card-bg);
  border: 1px solid var(--border-subtle);
  border-radius: 12px;
  padding: var(--space-lg);
  backdrop-filter: blur(10px);
}

.challenge__title {
  color: var(--matrix-green);
  margin-bottom: var(--space-md);
  font-size: 1.5rem;
}

.challenge__problem {
  color: var(--text-secondary);
  margin-bottom: var(--space-md);
}

.challenge__solution,
.challenge__results {
  margin-bottom: var(--space-md);
}

.challenge__solution h4,
.challenge__results h4 {
  color: var(--ark-blue);
  margin-bottom: var(--space-sm);
  font-size: 1.125rem;
}

.challenge__solution ul {
  list-style: none;
  padding: 0;
}

.challenge__solution li {
  padding-left: 1.5rem;
  position: relative;
  margin-bottom: var(--space-xs);
  color: var(--text-secondary);
}

.challenge__solution li::before {
  content: '‚Üí';
  position: absolute;
  left: 0;
  color: var(--matrix-green);
}

.results-table {
  display: grid;
  gap: var(--space-xs);
}

.result-row {
  display: flex;
  justify-content: space-between;
  padding: var(--space-xs);
  background: rgba(13, 13, 13, 0.5);
  border-radius: 4px;
}

.result-label {
  color: var(--text-secondary);
}

.result-value {
  color: var(--matrix-green);
  font-family: 'JetBrains Mono', monospace;
  font-weight: 700;
}

.challenge__quote {
  margin-top: var(--space-md);
  padding: var(--space-md);
  border-left: 3px solid var(--matrix-green);
  background: rgba(0, 255, 65, 0.05);
  font-style: italic;
}

.quote-author {
  display: block;
  margin-top: var(--space-xs);
  font-size: 0.875rem;
  color: var(--text-secondary);
}

.learnings {
  padding: var(--space-xl) 0;
  background: linear-gradient(to bottom, transparent, rgba(0, 255, 65, 0.02));
}

.learnings__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-md);
}

.transition {
  padding: var(--space-xl) 0;
  text-align: center;
}

.transition__content p {
  font-size: 1.5rem;
  margin-bottom: var(--space-md);
  color: var(--text-primary);
}

.transition__conclusion {
  font-weight: 700;
  color: var(--matrix-green);
  margin-top: var(--space-lg);
  margin-bottom: var(--space-lg);
}

.transition__cta {
  display: inline-block;
  padding: 1rem 2rem;
  background: var(--matrix-green);
  color: var(--code-dark);
  font-family: 'JetBrains Mono', monospace;
  font-weight: 700;
  border-radius: 8px;
  transition: all var(--transition-base);
}

.transition__cta:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 255, 65, 0.4);
}
</style>
